CREATE TABLE IF NOT EXISTS [SKAT-USER]
(
[Id] INTEGER PRIMARY KEY AUTOINCREMENT,
[UserId] INTEGER NOT NULL, 
[CreatedAt] DATE DEFAULT CURRENT_TIMESTAMP, 
[IsActive] BOOLEAN 
);

CREATE TABLE IF NOT EXISTS [SKAT_YEAR]
(
[Id] INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
[Label] TEXT NOT NULL,
[CreatedAt] DATE DEFAULT (datetime('now','localtime')),
[ModifiedAt] DATE DEFAULT (datetime('now','localtime')),
[StartDate] DATE NOT NULL,
[EndDate] DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS [SKAT_USER_YEAR](
[Id INTEGER] NOT NULL PRIMARY KEY AUTOINCREMENT,
[SkatUserId] INTEGER NOT NULL,
[SkatYearId] INTEGER NOT NULL,
[UserId] INTEGER NOT NULL,
[IsPaid] INTEGER DEFAULT 0,
[Amount] REAL NOT NULL,
FOREIGN KEY(SkatUserId) REFERENCES SkatUser(Id) ON DELETE CASCADE,
FOREIGN KEY(SkatYearId) REFERENCES SkatYear(Id) ON DELETE CASCADE
);
